
# SKU/SPU 筛选套件需求文档 (PRD)

## 1. 文档概述
本文档定义了 SKU 与 SPU 筛选组件的功能及 UI 交互标准。

## 2. 核心功能需求

### 2.1 交互规范 (2024 升级版)
- **+N 展开交互**：
  - 当已选项超过显示限制时，`+N` 标签需支持 Hover 触发。
  - 触发后弹出一个宽度等于父容器、位于父容器下方 4px 的悬浮层。
  - 悬浮层内应列出所有已选标签，且每个标签均可独立点击删除。
- **预览逻辑**：
  - 悬停于任何 SKU/SPU 标签或列表项时，弹出预览卡片。
  - 预览卡片应动态检测左右空间，优先在不遮挡下拉菜单的一侧展示。
- **搜索高亮**：
  - 搜索结果列表中的编号、中文名、英文名匹配部分需使用黄色背景高亮。

### 2.2 Z-Index 规范
- **Level 1 (z-200)**：搜索下拉菜单。
- **Level 2 (z-300)**：+N 展开的已选项列表（必须遮盖搜索菜单）。
- **Level 3 (z-400)**：详情预览卡片（作为最高层级，确保信息可读）。

### 2.3 业务逻辑
- **全选功能**：仅在有搜索关键词且非加载状态下可用，支持一键选中/取消选中当前搜索结果的所有 ID。
- **缓存机制**：组件需维护一个 `selectedItemsCache`，确保即便数据源分页切换后，已选的标签依然能正常显示其 code 和名称。

## 3. UI/UX 规范
- **高度标准**：单行高度固定为 32px。
- **边距标准**：展开面板与组件主体间距固定为 4px。
- **配色方案**：
  - SKU 相关：蓝色 (#3b82f6)
  - SPU 相关：紫色 (#a855f7)
  - 警示模式（不包含）：红色 (#ef4444)

## 4. 性能要求
- 搜索防抖：300ms。
- 滚动加载：列表底部 50px 处触发 `onLoadMore`。
